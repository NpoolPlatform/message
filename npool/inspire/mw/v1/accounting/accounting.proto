syntax = "proto3";

package inspire.middleware.accounting.v1;

option go_package = "github.com/NpoolPlatform/message/npool/inspire/mw/v1/accounting";

import "npool/inspire/mgr/v1/commission/commission.proto";

// Service Name
service Middleware {
    rpc Accounting   (AccountingRequest)    returns (AccountingResponse)   {}
    rpc AccountingV2 (AccountingV2Request)  returns (AccountingV2Response) {}
}

message Commission {
    string AppID    = 10;
    string UserID   = 20;
    optional string DirectContributorUserID = 30;
    string Amount   = 40;
}

message AccountingRequest {
    string AppID                  = 10;
    string UserID                 = 20;
    string GoodID                 = 30;
    string OrderID                = 40;
    string PaymentID              = 50;
    string CoinTypeID             = 60;
    string PaymentCoinTypeID      = 70;
    string PaymentCoinUSDCurrency = 80;
    string Units                  = 90;
    string PaymentAmount          = 100;
    string GoodValue              = 110;
    inspire.manager.commission.v1.SettleType SettleType = 120;
    bool   HasCommission          = 130;
}

message AccountingResponse {
    repeated Commission Infos = 10;
}


message AccountingV2Request {
    string AppID                  = 10;
    string UserID                 = 20;
    string GoodID                 = 30;
    string OrderID                = 40;
    uint32 OrderCreatedAt         = 50;
    string PaymentID              = 60;
    string CoinTypeID             = 70;
    string PaymentCoinTypeID      = 80;
    string PaymentCoinUSDCurrency = 90;
    string Units                  = 100;
    string PaymentAmount          = 110;
    string GoodValue              = 120;
    inspire.manager.commission.v1.SettleType SettleType = 130;
    bool   HasCommission          = 140;
}

message AccountingV2Response {
    repeated Commission Infos = 10;
}

