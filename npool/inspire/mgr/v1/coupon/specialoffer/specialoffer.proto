syntax = "proto3";

package inspire.manager.coupon.specialoffer.v1;

option go_package = "github.com/NpoolPlatform/message/npool/inspire/mgr/v1/coupon/specialoffer";

import "npool/npool.proto";

// Service Name
service Manager {
    rpc CreateSpecialOffer     (CreateSpecialOfferRequest)     returns (CreateSpecialOfferResponse)     {}
    rpc CreateSpecialOffers    (CreateSpecialOffersRequest)    returns (CreateSpecialOffersResponse)    {}
    rpc UpdateSpecialOffer     (UpdateSpecialOfferRequest)     returns (UpdateSpecialOfferResponse)     {}
    rpc GetSpecialOffer        (GetSpecialOfferRequest)        returns (GetSpecialOfferResponse)        {}
    rpc GetSpecialOfferOnly    (GetSpecialOfferOnlyRequest)    returns (GetSpecialOfferOnlyResponse)    {}
    rpc GetSpecialOffers       (GetSpecialOffersRequest)       returns (GetSpecialOffersResponse)       {}
    rpc ExistSpecialOffer      (ExistSpecialOfferRequest)      returns (ExistSpecialOfferResponse)      {}
    rpc ExistSpecialOfferConds (ExistSpecialOfferCondsRequest) returns (ExistSpecialOfferCondsResponse) {}
    rpc CountSpecialOffers     (CountSpecialOffersRequest)     returns (CountSpecialOffersResponse)     {}
    rpc DeleteSpecialOffer     (DeleteSpecialOfferRequest)     returns (DeleteSpecialOfferResponse)     {}
}

message SpecialOfferReq {
    optional string ID              = 10;
    optional string AppID           = 20;
    optional string UserID          = 30;
    optional string Amount          = 40;
    optional string ReleaseByUserID = 50;
    optional uint32 StartAt         = 60;
    optional uint32 DurationDays    = 70;
    optional string Message         = 80;
}

message SpecialOffer {
    string ID              = 10;
    string AppID           = 20;
    string UserID          = 30;
    string Amount          = 40;
    string ReleaseByUserID = 50;
    uint32 StartAt         = 60;
    uint32 DurationDays    = 70;
    string Message         = 80;
    uint32 CreatedAt       = 100;
    uint32 UpdatedAt       = 110;
}

message Conds {
    optional npool.v1.StringVal ID      = 10;
    optional npool.v1.StringVal AppID   = 20;
    optional npool.v1.StringVal UserID  = 30;
    optional npool.v1.Uint32Val StartAt = 40;
}


message CreateSpecialOfferRequest {
    SpecialOfferReq Info = 10;
}

message CreateSpecialOfferResponse {
    SpecialOffer Info = 10;
}

message CreateSpecialOffersRequest {
    repeated SpecialOfferReq Infos = 10;
}

message CreateSpecialOffersResponse {
    repeated SpecialOffer Infos = 10;
}

message UpdateSpecialOfferRequest {
    SpecialOfferReq Info = 10;
}

message UpdateSpecialOfferResponse {
    SpecialOffer Info = 10;
}

message GetSpecialOfferRequest {
    string ID = 10;
}

message GetSpecialOfferResponse {
    SpecialOffer Info = 10;
}

message GetSpecialOffersRequest {
    Conds Conds   = 10;
    int32 Offset  = 20;
    int32 Limit   = 30;
}

message GetSpecialOffersResponse {
    repeated SpecialOffer Infos = 10;
    uint32          Total = 20;
}

message GetSpecialOfferOnlyRequest {
    Conds Conds = 10;
}

message GetSpecialOfferOnlyResponse {
    SpecialOffer Info = 10;
}

message ExistSpecialOfferRequest {
    string ID = 10;
}

message ExistSpecialOfferResponse {
    bool Info = 10;
}

message ExistSpecialOfferCondsRequest {
    Conds Conds = 10;
}

message ExistSpecialOfferCondsResponse {
    bool Info = 10;
}

message CountSpecialOffersRequest {
    Conds Conds = 10;
}

message CountSpecialOffersResponse {
    uint32 Info = 10;
}

message DeleteSpecialOfferRequest {
    string ID = 10;
}


message DeleteSpecialOfferResponse {
    SpecialOffer Info = 10;
}

