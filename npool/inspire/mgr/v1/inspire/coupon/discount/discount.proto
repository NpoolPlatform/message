syntax = "proto3";

package inspire.manager.inspire.coupon.discount.v1;

option go_package = "github.com/NpoolPlatform/message/npool/inspire/mgr/v1/inspire/coupon/discount";

import "npool/npool.proto";

// Service Name
service Manager {
    rpc CreateDiscount     (CreateDiscountRequest)     returns (CreateDiscountResponse)     {}
    rpc CreateDiscounts    (CreateDiscountsRequest)    returns (CreateDiscountsResponse)    {}
    rpc UpdateDiscount     (UpdateDiscountRequest)     returns (UpdateDiscountResponse)     {}
    rpc GetDiscount        (GetDiscountRequest)        returns (GetDiscountResponse)        {}
    rpc GetDiscountOnly    (GetDiscountOnlyRequest)    returns (GetDiscountOnlyResponse)    {}
    rpc GetDiscounts       (GetDiscountsRequest)       returns (GetDiscountsResponse)       {}
    rpc ExistDiscount      (ExistDiscountRequest)      returns (ExistDiscountResponse)      {}
    rpc ExistDiscountConds (ExistDiscountCondsRequest) returns (ExistDiscountCondsResponse) {}
    rpc CountDiscounts     (CountDiscountsRequest)     returns (CountDiscountsResponse)     {}
    rpc DeleteDiscount     (DeleteDiscountRequest)     returns (DeleteDiscountResponse)     {}
}

message DiscountReq {
    optional string ID              = 10;
    optional string AppID           = 20;
    optional string Discount        = 30;
    optional string ReleaseByUserID = 40;
    optional uint32 StartAt         = 50;
    optional uint32 DurationDays    = 60;
    optional string Message         = 70;
    optional string Name            = 80;
}

message Discount {
    string ID              = 10;
    string AppID           = 20;
    string Discount        = 30;
    string ReleaseByUserID = 40;
    string StartAt         = 50;
    uint32 DurationDays    = 60;
    string Message         = 70;
    string Name            = 80;
    uint32 CreatedAt       = 90;
    uint32 UpdatedAt       = 100;
}

message Conds {
    optional npool.v1.StringVal ID              = 10;
    optional npool.v1.StringVal AppID           = 20;
    optional npool.v1.StringVal ReleaseByUserID = 30;
    optional npool.v1.Uint32Val StartAt         = 40;
    optional npool.v1.Uint32Val DurationDays    = 50;
    optional npool.v1.StringVal Name            = 60;
}


message CreateDiscountRequest {
    DiscountReq Info = 10;
}

message CreateDiscountResponse {
    Discount Info = 10;
}

message CreateDiscountsRequest {
    repeated DiscountReq Infos = 10;
}

message CreateDiscountsResponse {
    repeated Discount Infos = 10;
}

message UpdateDiscountRequest {
    DiscountReq Info = 10;
}

message UpdateDiscountResponse {
    Discount Info = 10;
}

message GetDiscountRequest {
    string ID = 10;
}

message GetDiscountResponse {
    Discount Info = 10;
}

message GetDiscountsRequest {
    Conds Conds   = 10;
    int32 Offset  = 20;
    int32 Limit   = 30;
}

message GetDiscountsResponse {
    repeated Discount Infos = 10;
    uint32          Total = 20;
}

message GetDiscountOnlyRequest {
    Conds Conds = 10;
}

message GetDiscountOnlyResponse {
    Discount Info = 10;
}

message ExistDiscountRequest {
    string ID = 10;
}

message ExistDiscountResponse {
    bool Info = 10;
}

message ExistDiscountCondsRequest {
    Conds Conds = 10;
}

message ExistDiscountCondsResponse {
    bool Info = 10;
}

message CountDiscountsRequest {
    Conds Conds = 10;
}

message CountDiscountsResponse {
    uint32 Info = 10;
}

message DeleteDiscountRequest {
    string ID = 10;
}

message DeleteDiscountResponse {
    Discount Info = 10;
}
