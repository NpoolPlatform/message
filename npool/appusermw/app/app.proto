syntax = "proto3";

package app.user.middleware.app.v2;

option go_package = "github.com/NpoolPlatform/message/npool/appusermw/app";

import "google/protobuf/empty.proto";
import "npool/npool.proto";

service AppUserMiddlewareApp {
  rpc Version (google.protobuf.Empty) returns (npool.v1.VersionResponse){}

  rpc GetAppInfo (GetAppInfoRequest) returns (GetAppInfoResponse) {}

  rpc GetAppInfos (GetAppInfosRequest) returns (GetAppInfosResponse) {}

  rpc GetAppInfosByCreator (GetAppInfosByCreatorRequest) returns (GetAppInfosByCreatorResponse) {}

}

message AppInfo {
  string id = 20;
  string createdBy = 30;
  string Name = 40;
  string Logo = 50;
  uint32 CreatedAt = 60;
  string Description = 10;
  bool IsBanApp = 80;
  string BanAppMessage = 90;
  repeated string SignupMethods = 100;
  repeated string ExternSigninMethods = 110;
  string RecaptchaMethod = 120;
  bool KycEnable = 130;
  bool SigninVerifyEnable = 140;
  bool InvitationCodeMust = 150;
}

message GetAppInfoRequest {
  string ID = 10;
}

message GetAppInfoResponse {
  AppInfo Info = 10;
}


message GetAppInfosRequest {
  int32 Offset = 10;
  int32 Limit = 20;
}

message GetAppInfosResponse {
  repeated AppInfo Infos = 10;
  uint32 Total = 20;
}

message GetAppInfosByCreatorRequest {
  string UserID = 10;
  int32 Offset = 20;
  int32 Limit = 30;
}

message GetAppInfosByCreatorResponse {
  repeated AppInfo Infos = 10;
  uint32 Total = 20;
}