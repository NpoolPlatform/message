syntax = "proto3";

package chain.gateway.tx.v1;

option go_package = "github.com/NpoolPlatform/message/npool/chain/gw/v1/tx";

import "google/api/annotations.proto";
import "npool/npool.proto";
import "npool/chain/mgr/v1/tx/tx.proto";
import "npool/chain/mw/v1/tx/tx.proto";

// Service Name
service Gateway {
    rpc CreateTx     (CreateTxRequest)   returns (CreateTxResponse)    {}
    rpc GetTxs       (GetTxsRequest)     returns (GetTxsResponse)      {}
    rpc UpdateTx     (UpdateTxRequest)   returns (UpdateTxResponse)    {}
}

message Tx {
    string                      ID             = 10;
    string                      CoinTypeID     = 20;
    string                      CoinName       = 30;
    string                      CoinLogo       = 40;
    string                      CoinUnit       = 50;
    string                      CoinENV        = 60;
    string                      FromAddress    = 70;
    string                      ToAddress      = 80;
    string                      Amount         = 90;
    string                      FeeAmount      = 100;
    string                      ChainTxID      = 110;
    chain.manager.tx.v1.TxState State          = 120;
    string                      Extra          = 130;
    chain.manager.tx.v1.TxType  Type           = 140;
    uint32                      CreatedAt      = 150;
    uint32                      UpdatedAt      = 160;
}

message CreateTxRequest {
    chain.manager.tx.v1.TxReq Info = 10;
}

message CreateTxResponse {
    Tx Info = 10;
}

message GetTxsRequest {
    chain.manager.tx.v1.Conds Conds  = 10;
    int32                     Offset = 20;
    int32                     Limit  = 30;
}

message GetTxsResponse {
    repeated Tx Infos = 10;
    uint32      Total = 20;
}

message UpdateTxRequest {
    chain.manager.tx.v1.TxReq Info = 10;
}

message UpdateTxResponse {
    Tx Info = 10;
}
