syntax = "proto3";

package chain.gateway.appcoin.v1;

option go_package = "github.com/NpoolPlatform/message/npool/chain/gw/v1/appcoin";

import "google/api/annotations.proto";
import "npool/npool.proto";
import "npool/chain/mw/v1/appcoin/appcoin.proto";

// Service Name
service Gateway {
    rpc CreateCoin (CreateCoinRequest) returns (CreateCoinResponse) {
        option (google.api.http) = {
            post: "/v1/create/appcoin"
            body: "*"
        };
    }
    rpc GetCoins (GetCoinsRequest) returns (GetCoinsResponse) {
        option (google.api.http) = {
            post: "/v1/get/appcoins"
            body: "*"
        };
    }
    rpc GetAppCoins (GetAppCoinsRequest) returns (GetAppCoinsResponse) {
        option (google.api.http) = {
            post: "/v1/get/n/appcoins"
            body: "*"
        };
    }
    rpc UpdateCoin (UpdateCoinRequest) returns (UpdateCoinResponse) {
        option (google.api.http) = {
            post: "/v1/update/appcoin"
            body: "*"
        };
    }
    rpc DeleteCoin (DeleteCoinRequest) returns (DeleteCoinResponse) {
        option (google.api.http) = {
            post: "/v1/delete/appcoin"
            body: "*"
        };
    }
}

message CreateCoinRequest {
    string TargetAppID = 10;
    string CoinTypeID  = 20;
}

message CreateCoinResponse {
    chain.middleware.appcoin.v1.Coin Info = 10;
}

message GetCoinsRequest {
    string AppID  = 10;
    int32  Offset = 20;
    int32  Limit  = 30;
}

message GetCoinsResponse {
    repeated chain.middleware.appcoin.v1.Coin Infos = 10;
    uint32                                    Total = 20;
}

message GetAppCoinsRequest {
    string TargetAppID  = 10;
    int32  Offset       = 20;
    int32  Limit        = 30;
}

message GetAppCoinsResponse {
    repeated chain.middleware.appcoin.v1.Coin Infos = 10;
    uint32                                    Total = 20;
}

message UpdateCoinRequest {
    string          ID                       = 10;
    string          AppID                    = 20;
    string          UserID                   = 30;
    string          CoinTypeID               = 40;
    optional string Name                     = 50;
    repeated string DisplayNames             = 51;
    optional string Logo                     = 60;
    optional bool   ForPay                   = 70;
    optional string WithdrawAutoReviewAmount = 80;
    optional string MarketValue              = 90;
    optional uint32 SettlePercent            = 100;
    repeated string SettleTips               = 101;
    optional string DailyRewardAmount        = 110;
    optional string ProductPage              = 120;
    optional bool   Disabled                 = 130;
    optional bool   Display                  = 140;
}

message UpdateCoinResponse {
    chain.middleware.appcoin.v1.Coin Info = 10;
}

message DeleteCoinRequest {
    string ID          = 10;
    string TargetAppID = 20;
}

message DeleteCoinResponse {
    chain.middleware.appcoin.v1.Coin Info = 10;
}
