syntax = "proto3";

package app.user.gateway.admin.v1;

option go_package = "github.com/NpoolPlatform/message/npool/appusergw/admin";

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "npool/npool.proto";
import "npool/appusermgrv2/app/app.proto";
import "npool/appusermgrv2/approle/approle.proto";
import "npool/appusermgrv2/approleuser/approleuser.proto";

service AppUserGatewayAdmin {

  rpc CreateAdminApps (CreateAdminAppsRequest) returns (CreateAdminAppsResponse) {
    option (google.api.http) = {
      post: "/v2/create/admin/apps"
      body: "*"
    };
  }

  rpc GetAdminApps (GetAdminAppsRequest) returns (GetAdminAppsResponse) {
    option (google.api.http) = {
      post: "/v2/get/admin/apps"
      body: "*"
    };
  }

  rpc CreateGenesisRole (CreateGenesisRoleRequest) returns (CreateGenesisRoleResponse) {
    option (google.api.http) = {
      post: "/v2/create/genesis/role"
      body: "*"
    };
  }

  rpc GetGenesisRole (GetGenesisRoleRequest) returns (GetGenesisRoleResponse) {
    option (google.api.http) = {
      post: "/v2/get/genesis/role"
      body: "*"
    };
  }

  rpc GetAppGenesisAppRoleUsers (GetAppGenesisAppRoleUsersRequest) returns (GetAppGenesisAppRoleUsersResponse) {
    option (google.api.http) = {
      post: "/v1/get/app/genesis/app/role/users"
      body: "*"
    };
  }

//  rpc CreateGenesisRoleUser (CreateGenesisRoleUserRequest) returns (CreateGenesisRoleUserResponse) {
//    option (google.api.http) = {
//      post: "/v1/create/genesis/role/user"
//      body: "*"
//    };
//  }

}

message CreateAdminAppsRequest {
}

message CreateAdminAppsResponse {
  repeated .app.user.manager.app.v2.App Infos = 10;
}

message GetAdminAppsRequest {
}

message GetAdminAppsResponse {
  repeated .app.user.manager.app.v2.App Infos = 10;
}


message CreateGenesisRoleRequest {
}

message CreateGenesisRoleResponse {
  .app.user.manager.approle.v2.AppRole Info = 10;
}

message GetGenesisRoleRequest {
}

message GetGenesisRoleResponse {
  .app.user.manager.approle.v2.AppRole Info = 10;
}

message GetAppGenesisAppRoleUsersRequest {
  string TargetAppID = 10;
  string UserID = 20;
}

message GetAppGenesisAppRoleUsersResponse {
  repeated .app.user.manager.approleuser.v2.AppRoleUser Infos = 10;
  uint32 Total = 20;
}

//message CreateGenesisRoleUserRequest {
//  AppUser User = 10;
//  AppUserSecret Secret = 20;
//}
//
//message CreateGenesisRoleUserResponse {
//  AppUser User = 10;
//  AppRoleUser RoleUser = 20;
//}