syntax = "proto3";

package third.gateway.v1;

option go_package = "github.com/NpoolPlatform/message/npool/thirdgateway";

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "npool/npool.proto";

// Service Name
service ThirdGateway {
    // Method Version
    rpc Version (google.protobuf.Empty) returns (npool.v1.VersionResponse){
        option (google.api.http) = {
            post: "/version"
            body: "*"
        };
    }

    rpc SendSMSCode (SendSMSCodeRequest) returns (SendSMSCodeResponse) {
        option (google.api.http) = {
            post: "/v1/send/sms/code",
            body: "*"
        };
    }
    rpc VerifySMSCode (VerifySMSCodeRequest) returns (VerifySMSCodeResponse) {
        option (google.api.http) = {
            post: "/v1/verify/sms/code",
            body: "*"
        };
    }

    rpc SendEmailCode (SendEmailCodeRequest) returns (SendEmailCodeResponse) {
        option (google.api.http) = {
            post: "/v1/send/email/code",
            body: "*"
        };
    }
    rpc VerifyEmailCode (VerifyEmailCodeRequest) returns (VerifyEmailCodeResponse) {
        option (google.api.http) = {
            post: "/v1/verify/email/code",
            body: "*"
        };
    }
}

message SendSMSCodeRequest {
    string PhoneNO = 10;
    string UsedFor = 20;
}

message SendSMSCodeResponse {
    int32 Code = 10;
    string Message = 20;
}

message VerifySMSCodeRequest {
    string PhoneNO = 10;
    string UsedFor = 20;
    string Code = 30;
}

message VerifySMSCodeResponse {
    int32 Code = 10;
    string Message = 20;
}

message SendEmailCodeRequest {
    string EmailAddress = 10;
    string UsedFor = 20;
}

message SendEmailCodeResponse {
    int32 Code = 10;
    string Message = 20;
}

message VerifyEmailCodeRequest {
    string EmailAddress = 10;
    string UsedFor = 20;
    string Code = 30;
}

message VerifyEmailCodeResponse {
    int32 Code = 10;
    string Message = 20;
}
