syntax = "proto3";

package ledger.middleware.mining.detail.v2;

option go_package = "github.com/NpoolPlatform/message/npool/ledger/mw/v2/mining/detail";

import "npool/ledger/mgr/v1/mining/detail/detail.proto";

// Service Name
service Middleware {
    rpc CreateDetail  (CreateDetailRequest)  returns (CreateDetailResponse)  {}
    rpc GetDetailOnly (GetDetailOnlyRequest) returns (GetDetailOnlyResponse) {}
    rpc GetDetails    (GetDetailsRequest)    returns (GetDetailsResponse)    {}
}

message DetailReq {
    optional string     ID                    = 10;
    optional string     GoodID                = 20;
    optional string     CoinTypeID            = 30;
    optional string     Amount                = 40;
    optional uint32     BenefitIntervalHours  = 50;
}

message CreateDetailRequest {
    DetailReq Info = 10;
}

message CreateDetailResponse {
    ledger.manager.mining.detail.v1.Detail Info = 10;
}

message GetDetailOnlyRequest {
    ledger.manager.mining.detail.v1.Conds Conds = 10;
}

message GetDetailOnlyResponse {
    ledger.manager.mining.detail.v1.Detail Info = 10;
}


message GetDetailsRequest {
    ledger.manager.mining.detail.v1.Conds Conds = 10;
    uint32 Offset = 20;
    uint32 Limit  = 30;
}

message GetDetailsResponse {
    repeated ledger.manager.mining.detail.v1.Detail Info  = 10;
    uint32                                          Total = 20;
}

