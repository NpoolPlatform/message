syntax = "proto3";

package order.middleware.poolorderuser.v1;

option go_package = "github.com/NpoolPlatform/message/npool/order/mw/v1/powerrental/poolorderuser";

import "npool/basetypes/v1/conds.proto";

// Service Name
service Middleware {
  rpc CreatePoolOrderUser(CreatePoolOrderUserRequest)
      returns (CreatePoolOrderUserResponse) {}
  rpc GetPoolOrderUser(GetPoolOrderUserRequest)
      returns (GetPoolOrderUserResponse) {}
  rpc GetPoolOrderUsers(GetPoolOrderUsersRequest)
      returns (GetPoolOrderUsersResponse) {}
  rpc ExistPoolOrderUser(ExistPoolOrderUserRequest)
      returns (ExistPoolOrderUserResponse) {}
  rpc ExistPoolOrderUserConds(ExistPoolOrderUserCondsRequest)
      returns (ExistPoolOrderUserCondsResponse) {}
  rpc DeletePoolOrderUser(DeletePoolOrderUserRequest)
      returns (DeletePoolOrderUserResponse) {}
}

message PoolOrderUserReq {
  optional string EntID = 10;
  optional string OrderID = 20;
  optional string OrderUserID = 30;
}

message PoolOrderUser {
  // @inject_tag: sql:"id"
  uint32 ID = 10;
  // @inject_tag: sql:"ent_id"
  string EntID = 20;
  // @inject_tag: sql:"order_id"
  string OrderID = 30;
  // @inject_tag: sql:"order_user_id"
  string OrderUserID = 40;
}

message Conds {
  optional basetypes.v1.Uint32Val ID = 10;
  optional basetypes.v1.StringVal EntID = 20;
  optional basetypes.v1.StringVal OrderID = 30;
  optional basetypes.v1.StringVal OrderUserID = 40;
  optional basetypes.v1.Uint32Val CreatedAt = 100;
  optional basetypes.v1.StringSliceVal EntIDs = 110;
}

message CreatePoolOrderUserRequest { PoolOrderUserReq Info = 10; }

message CreatePoolOrderUserResponse { PoolOrderUser Info = 10; }

message GetPoolOrderUserRequest { string EntID = 10; }

message GetPoolOrderUserResponse { PoolOrderUser Info = 10; }

message GetPoolOrderUsersRequest {
  Conds Conds = 10;
  int32 Offset = 20;
  int32 Limit = 30;
}

message GetPoolOrderUsersResponse {
  repeated PoolOrderUser Infos = 10;
  uint32 Total = 20;
}

message ExistPoolOrderUserRequest { string EntID = 10; }

message ExistPoolOrderUserResponse { bool Info = 10; }

message ExistPoolOrderUserCondsRequest { Conds Conds = 10; }

message ExistPoolOrderUserCondsResponse { bool Info = 10; }

message DeletePoolOrderUserRequest { PoolOrderUserReq Info = 10; }

message DeletePoolOrderUserResponse { PoolOrderUser Info = 10; }