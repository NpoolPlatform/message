syntax = "proto3";

package order.middleware.order1.v1;

option go_package = "github.com/NpoolPlatform/message/npool/order/mw/v1/order";

import "npool/order/mgr/v1/order/state/state.proto";
import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "npool/npool.proto";

// Service Name
service Middleware {
    rpc CreateOrder (CreateOrderRequest) returns (CreateOrderResponse) {}
}

message Order {
    string          ID                     = 10;
    string          ParentOrderID          = 20;
    string          UserID                 = 30;
    string          CoinTypeID             = 40;
    string          GoodID                 = 50;
    uint32          Units                  = 60;

    string          PaymentCoinTypeID      = 70;
    string          PaymentCoinUSDCurrency = 80;
    string          PaymentID              = 90;
    string          PaymentAddress         = 100;
    string          PaymentAmount          = 110;
    optional string PayWithBalanceAmount   = 120;
    bool            PayWithParent          = 130;

    optional string FixAmountID            = 140;
    optional string DiscountID             = 150;
    optional string SpecialOfferID         = 160;

    order.manager.order.state.v1.EState State = 340;
}

message CreateOrderRequest {
    string          AppID                     = 10;
    string          UserID                    = 20;
    string          GoodID                    = 30;
    uint32          Units                     = 40;
    string          OrderType                 = 50;

    optional string ParentOrderID             = 60;
    bool            PayWithParent             = 70;

    string          PaymentCoinID             = 80;
    optional string PayWithBalanceAmount      = 90;
    string          PaymentAccountID          = 100;
    string          PaymentAmount             = 110;
    string          PaymentAccountStartAmount = 120;
    string          PaymentCoinUSDCurrency    = 130;
    string          PaymentLiveUSDCurrency    = 140;
    string          PaymentLocalUSDCurrency   = 150;

    optional string FixAmountID               = 160;
    optional string DiscountID                = 170;
    optional string SpecialOfferID            = 180;
}

message CreateOrderResponse {
    Order Info = 10;
}
