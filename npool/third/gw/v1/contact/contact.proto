syntax = "proto3";

package third.gateway.contact.v1;

option go_package = "github.com/NpoolPlatform/message/npool/third/gw/v1/contact";

import "google/api/annotations.proto";
import "npool/third/mgr/v1/contact/contact.proto";


service Gateway {
    rpc CreateContact (CreateContactRequest) returns (CreateContactResponse) {
        option (google.api.http) = {
            post: "/v1/create/contact"
            body: "*"
        };
    }

    rpc CreateAppContact (CreateAppContactRequest) returns (CreateAppContactResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/contact"
            body: "*"
        };
    }

    rpc GetContact (GetContactRequest) returns (GetContactResponse) {
        option (google.api.http) = {
            post: "/v1/get/contact"
            body: "*"
        };
    }

    rpc GetAppContact (GetAppContactRequest) returns (GetContactResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/contact"
            body: "*"
        };
    }

    rpc GetNAppContact (GetNAppContactRequest) returns (GetNAppContactResponse) {
        option (google.api.http) = {
            post: "/v1/get/napp/contact"
            body: "*"
        };
    }

    rpc GetContacts (GetContactsRequest) returns (GetContactsResponse) {
        option (google.api.http) = {
            post: "/v1/get/contacts"
            body: "*"
        };
    }

    rpc UpdateContact (UpdateContactRequest) returns (UpdateContactResponse) {
        option (google.api.http) = {
            post: "/v1/update/contact"
            body: "*"
        };
    }

    rpc ContactViaEmail  (CreateContactRequest) returns (CreateContactResponse) {
        option (google.api.http) = {
            post: "/v1/contact/via/email",
            body: "*"
        };
    }
}

message CreateContactRequest {
    string AppID       = 10;
    string UsedFor     = 20;
    string Account     = 30;
    string AccountType = 40;
    string Sender      = 50;
}

message CreateContactResponse {
    third.manager.contact.v1.Contact Info = 10;
}

message CreateAppContactRequest {
    string TargetAppID = 10;
    string UsedFor     = 20;
    string Account     = 30;
    string AccountType = 40;
    string Sender      = 50;
}

message CreateAppContactResponse {
    third.manager.contact.v1.Contact Info = 10;
}

message GetContactRequest {
    string ID = 10;
}

message GetContactResponse {
    third.manager.contact.v1.Contact Info = 10;
}

message GetAppContactRequest {
    string AppID = 10;
}

message GetAppContactResponse {
    third.manager.contact.v1.Contact Info = 10;
}

message GetNAppContactRequest {
    string TargetAppID = 10;
}

message GetNAppContactResponse {
    third.manager.contact.v1.Contact Info = 10;
}

message GetContactsRequest {
}

message GetContactsResponse {
    repeated third.manager.contact.v1.Contact Infos = 10;
}

message UpdateContactRequest {
    string ID          = 10;
    string Account     = 30;
    string AccountType = 40;
    string Sender      = 50;
}

message UpdateContactResponse {
    third.manager.contact.v1.Contact Info = 10;
}

message ContactByEmailRequest {
    string AppID = 10;
    string UserID = 20;
    string UsedFor = 30;
    string Sender = 40;
    string Subject = 60;
    string Body = 70;
    string SenderName = 80;
}

message ContactByEmailResponse {
}
