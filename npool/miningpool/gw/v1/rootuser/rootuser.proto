syntax = "proto3";

package miningpool.gateway.rootuser.v1;

option go_package = "github.com/NpoolPlatform/message/npool/miningpool/mw/v1/rootuser";

import "npool/basetypes/miningpool/v1/enums.proto";

// Service Name
service Gateway {
    rpc CreateRootUser     (CreateRootUserRequest)   returns (CreateRootUserResponse)    {}
    rpc GetRootUser        (GetRootUserRequest)      returns (GetRootUserResponse)       {}
    rpc GetRootUsers       (GetRootUsersRequest)     returns (GetRootUsersResponse)      {}
    rpc UpdateRootUser     (UpdateRootUserRequest)   returns (UpdateRootUserResponse)    {}
    rpc DeleteRootUser     (DeleteRootUserRequest)   returns (DeleteRootUserResponse)    {}
}

message RootUser {
    uint32               ID                = 10;
    string               EntID             = 20;
    string               Name              = 30;
    basetypes.miningpool.v1.MiningpoolType MiningpoolType = 40;
    string               Email             = 50;
    string               AuthToken         = 60;
    bool                 Authed            = 70;
    string               Remark            = 80;
    uint32               CreatedAt         = 90;
    uint32               UpdatedAt         = 100;
}

message CreateRootUserRequest {
    string    Name            = 10;
    basetypes.miningpool.v1.MiningpoolType MiningpoolType = 20;
    string    Email           = 30;
    string    AuthToken       = 40;
    optional  string Remark   = 50;
}

message CreateRootUserResponse {
    RootUser Info = 10;
}

message GetRootUserRequest {
    string EntID = 10;
}

message GetRootUserResponse {
    RootUser Info = 10;
}

message GetRootUsersRequest {
    int32 Offset = 20;
    int32 Limit  = 30;
}

message GetRootUsersResponse {
    repeated RootUser Infos = 10;
    uint32      Total = 20;
}

message UpdateRootUserRequest {
    uint32               ID                = 10;
    optional string      Name              = 20;
    optional string      Email             = 30;
    optional string      AuthToken         = 40;
    optional string      Remark            = 50;
}

message UpdateRootUserResponse {
    RootUser Info = 10;
}

message DeleteRootUserRequest {
    uint32 ID = 10;
}

message DeleteRootUserResponse {
    RootUser Info = 10;
}
