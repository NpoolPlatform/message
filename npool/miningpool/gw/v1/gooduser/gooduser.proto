syntax = "proto3";

package miningpool.gateway.gooduser.v1;

option go_package = "github.com/NpoolPlatform/message/npool/miningpool/gw/v1/gooduser";

import "google/api/annotations.proto";
import "npool/basetypes/miningpool/v1/enums.proto";

// Service Name
service Gateway {
  rpc CreateGoodUser(CreateGoodUserRequest) returns (CreateGoodUserResponse) {
    option (google.api.http) = {
      post : "/v1/create/gooduser"
      body : "*"
    };
  }
  rpc GetGoodUser(GetGoodUserRequest) returns (GetGoodUserResponse) {
    option (google.api.http) = {
      post : "/v1/get/gooduser"
      body : "*"
    };
  }
  rpc GetGoodUsers(GetGoodUsersRequest) returns (GetGoodUsersResponse) {
    option (google.api.http) = {
      post : "/v1/get/goodusers"
      body : "*"
    };
  }
  rpc UpdateGoodUser(UpdateGoodUserRequest) returns (UpdateGoodUserResponse) {
    option (google.api.http) = {
      post : "/v1/update/gooduser"
      body : "*"
    };
  }
  rpc DeleteGoodUser(DeleteGoodUserRequest) returns (DeleteGoodUserResponse) {
    option (google.api.http) = {
      post : "/v1/delete/gooduser"
      body : "*"
    };
  }
}

message GoodUser {
  uint32 ID = 10;
  string EntID = 20;
  string Name = 30;
  string RootUserID = 40;
  basetypes.miningpool.v1.MiningpoolType MiningpoolType = 50;
  basetypes.miningpool.v1.CoinType CoinType = 60;
  float HashRate = 70;
  string ReadPageLink = 80;
  basetypes.miningpool.v1.RevenueType RevenueType = 90;
  uint32 CreatedAt = 100;
  uint32 UpdatedAt = 110;
}

message CreateGoodUserRequest {
  string RootUserID = 10;
  basetypes.miningpool.v1.CoinType CoinType = 20;
  float HashRate = 30;
  basetypes.miningpool.v1.RevenueType RevenueType = 40;
}

message CreateGoodUserResponse { GoodUser Info = 10; }

message GetGoodUserRequest { string EntID = 10; }

message GetGoodUserResponse { GoodUser Info = 10; }

message GetGoodUsersRequest {
  int32 Offset = 20;
  int32 Limit = 30;
}

message GetGoodUsersResponse {
  repeated GoodUser Infos = 10;
  uint32 Total = 20;
}

message UpdateGoodUserRequest {
  uint32 ID = 10;
  string EntID = 20;
  optional float HashRate = 30;
  optional basetypes.miningpool.v1.RevenueType RevenueType = 40;
}

message UpdateGoodUserResponse { GoodUser Info = 10; }

message DeleteGoodUserRequest {
  uint32 ID = 10;
  string EntID = 20;
}

message DeleteGoodUserResponse { GoodUser Info = 10; }