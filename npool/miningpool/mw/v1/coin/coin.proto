syntax = "proto3";

package miningpool.middleware.coin.v1;

option go_package = "github.com/NpoolPlatform/message/npool/miningpool/mw/v1/coin";

import "npool/basetypes/v1/conds.proto";
import "npool/basetypes/miningpool/v1/enums.proto";

// Service Name
service Middleware {
    rpc GetCoins (GetCoinsRequest) returns(GetCoinsResponse){}
}


message Coin {
    basetypes.miningpool.v1.MiningpoolType       MiningpoolType    = 10;
    basetypes.miningpool.v1.CoinType             CoinType          = 20;
    repeated basetypes.miningpool.v1.RevenueType RevenueType       = 30;
    string                                       Site              = 40;
    float                                        FeeRate           = 50;
    bool                                         FixedRevenueAble  = 60;
    float                                        Threshold         = 70;
}

message Conds {
    optional basetypes.v1.StringVal      EntID             = 10;
    optional basetypes.v1.Uint32Val      CoinType          = 20;
    optional basetypes.v1.Uint32Val      RevenueType       = 30;
    optional basetypes.v1.StringVal      Site              = 40;
    optional basetypes.v1.BoolVal        FeeRate           = 50;
    optional basetypes.v1.BoolVal        FixedRevenueAble  = 60;
    optional basetypes.v1.BoolVal        Threshold         = 70;
    optional basetypes.v1.StringSliceVal EntIDs            = 580;
}

message GetCoinsRequest {
    Conds Conds=10;
    int32 Offset = 20;
    int32 Limit  = 30;
}

message GetCoinsResponse {
    repeated Coin Infos = 10;
    uint32 Total = 20;
}
