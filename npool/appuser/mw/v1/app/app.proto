syntax = "proto3";

package appuser.middleware.app.v1;

option go_package = "github.com/NpoolPlatform/message/npool/appuser/mw/v1/app";

service AppMw {
    rpc GetApp      (GetAppRequest)      returns (GetAppResponse)      {}
    rpc GetApps     (GetAppsRequest)     returns (GetAppsResponse)     {}
    rpc GetUserApps (GetUserAppsRequest) returns (GetUserAppsResponse) {}

}

message App {
    // Base info
    string          ID                 = 10;
    string          CreatedBy          = 20;
    string          Name               = 30;
    string          Logo               = 40;
    string          Description        = 50;

    // Banned
    bool            Banned             = 60;
    string          BanMessage         = 70;

    // Sign methods
    repeated string SignupMethods      = 80;
    repeated string ExtSigninMethods   = 90;

    // Control flag
    string          RecaptchaMethod    = 100;
    bool            KycEnable          = 110;
    bool            SigninVerifyEnable = 120;
    bool            InvitationCodeMust = 130;

    string          CreateAt           = 140;
}

message GetAppRequest {
    string ID = 10;
}

message GetAppResponse {
    App Info = 10;
}


message GetAppsRequest {
    int32 Offset = 10;
    int32 Limit  = 20;
}

message GetAppsResponse {
    repeated App Infos = 10;
    uint32       Total = 20;
}

message GetUserAppsRequest {
    string UserID = 10;
    int32  Offset = 20;
    int32  Limit  = 30;
}

message GetUserAppsResponse {
    repeated App Infos = 10;
    uint32       Total = 20;
}
