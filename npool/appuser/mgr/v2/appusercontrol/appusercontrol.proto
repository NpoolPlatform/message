syntax = "proto3";

package appuser.manager.appusercontrol.v2;

option go_package = "github.com/NpoolPlatform/message/npool/appuser/mgr/v2/appusercontrol";

import "npool/npool.proto";
import "npool/appuser/mgr/v2/signmethod/signmethod.proto";

service Manager {
    rpc CreateAppUserControl     (CreateAppUserControlRequest)     returns (CreateAppUserControlResponse)     {}
    rpc CreateAppUserControls    (CreateAppUserControlsRequest)    returns (CreateAppUserControlsResponse)    {}
    rpc UpdateAppUserControl     (UpdateAppUserControlRequest)     returns (UpdateAppUserControlResponse)     {}
    rpc GetAppUserControl        (GetAppUserControlRequest)        returns (GetAppUserControlResponse)        {}
    rpc GetAppUserControlOnly    (GetAppUserControlOnlyRequest)    returns (GetAppUserControlOnlyResponse)    {}
    rpc GetAppUserControls       (GetAppUserControlsRequest)       returns (GetAppUserControlsResponse)       {}
    rpc ExistAppUserControl      (ExistAppUserControlRequest)      returns (ExistAppUserControlResponse)      {}
    rpc ExistAppUserControlConds (ExistAppUserControlCondsRequest) returns (ExistAppUserControlCondsResponse) {}
    rpc CountAppUserControls     (CountAppUserControlsRequest)     returns (CountAppUserControlsResponse)     {}
    rpc DeleteAppUserControl     (DeleteAppUserControlRequest)     returns (DeleteAppUserControlResponse)     {}
}

message AppUserControlReq {
    optional string ID                 = 10;
    optional string AppID              = 20;
    optional string UserID             = 30;
    optional bool   GoogleAuthVerified = 40;
    optional appuser.manager.signmethod.v2.SignMethodType SigninVerifyType = 50;
    optional bool   Kol                = 60;
    optional bool   KolConfirmed       = 70;
}

message AppUserControl {
    string ID                 = 10;
    string AppID              = 20;
    string UserID             = 30;
    bool   GoogleAuthVerified = 40;
    appuser.manager.signmethod.v2.SignMethodType SigninVerifyType = 50;
    bool   Kol                = 60;
    bool   KolConfirmed       = 70;
}

message Conds {
    npool.v1.StringVal ID                 = 10;
    npool.v1.StringVal AppID              = 20;
    npool.v1.StringVal UserID             = 30;
    npool.v1.BoolVal   GoogleAuthVerified = 40;
    npool.v1.BoolVal   Kol                = 50;
    npool.v1.BoolVal   KolConfirmed       = 60;
}

message CreateAppUserControlRequest {
    AppUserControlReq Info = 10;
}

message CreateAppUserControlResponse {
    AppUserControl Info = 10;
}

message CreateAppUserControlsRequest {
    repeated AppUserControlReq Infos = 10;
}

message CreateAppUserControlsResponse {
    repeated AppUserControl Infos = 10;
}

message GetAppUserControlRequest {
    string ID = 10;
}

message GetAppUserControlResponse {
    AppUserControl Info = 10;
}

message GetAppUserControlsRequest {
    Conds Conds  = 10;
    int32 Offset = 20;
    int32 Limit  = 30;
}

message GetAppUserControlsResponse {
    repeated AppUserControl Infos = 10;
    uint32              Total = 20;
}

message GetAppUserControlOnlyRequest {
    Conds Conds = 10;
}

message GetAppUserControlOnlyResponse {
    AppUserControl Info = 10;
}

message UpdateAppUserControlRequest {
    AppUserControlReq Info = 10;
}

message UpdateAppUserControlResponse {
    AppUserControl Info = 10;
}

message ExistAppUserControlRequest {
    string ID = 10;
}

message ExistAppUserControlResponse {
    bool Info = 10;
}

message ExistAppUserControlCondsRequest {
    Conds Conds = 10;
}

message ExistAppUserControlCondsResponse {
    bool Info = 10;
}

message CountAppUserControlsRequest {
    Conds Conds = 10;
}

message CountAppUserControlsResponse {
    uint32 Info = 10;
}

message DeleteAppUserControlRequest {
    string ID = 10;
}

message DeleteAppUserControlResponse {
    AppUserControl Info = 10;
}
