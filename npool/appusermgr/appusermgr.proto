syntax = "proto3";

package app.user.manager.v1;

option go_package = "github.com/NpoolPlatform/message/npool/appusermgr";

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "npool/npool.proto";

service AppUserManager {
    rpc Version (google.protobuf.Empty) returns (npool.v1.VersionResponse){
        option (google.api.http) = {
            post: "/version"
            body: "*"
        };
    }

    rpc CreateAdminApps (CreateAdminAppsRequest) returns (CreateAdminAppsResponse) {
        option (google.api.http) = {
            post: "/v1/create/admin/apps"
            body: "*"
        };
    }
    rpc GetAdminApps (GetAdminAppsRequest) returns (GetAdminAppsResponse) {
        option (google.api.http) = {
            post: "/v1/get/admin/apps"
            body: "*"
        };
    }

    rpc CreateApp (CreateAppRequest) returns (CreateAppResponse) {
        option (google.api.http) = {
            post: "/v1/create/app"
            body: "*"
        };
    }
    rpc GetApp (GetAppRequest) returns (GetAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app"
            body: "*"
        };
    }
    rpc GetApps (GetAppsRequest) returns (GetAppsResponse) {
        option (google.api.http) = {
            post: "/v1/get/apps"
            body: "*"
        };
    }
    rpc GetAppsByCreator (GetAppsByCreatorRequest) returns (GetAppsByCreatorResponse) {
        option (google.api.http) = {
            post: "/v1/get/apps/by/creator"
            body: "*"
        };
    }
    rpc UpdateApp (UpdateAppRequest) returns (UpdateAppResponse) {
        option (google.api.http) = {
            post: "/v1/update/app"
            body: "*"
        };
    }
    rpc CreateAppControl (CreateAppControlRequest) returns (CreateAppControlResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/control"
            body: "*"
        };
    }
    rpc CreateAppControlForOtherApp (CreateAppControlForOtherAppRequest) returns (CreateAppControlForOtherAppResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/control/for/other/app"
            body: "*"
        };
    }
    rpc GetAppControl (GetAppControlRequest) returns (GetAppControlResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/control"
            body: "*"
        };
    }
    rpc GetAppControlByApp (GetAppControlByAppRequest) returns (GetAppControlByAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/control/by/app"
            body: "*"
        };
    }
    rpc UpdateAppControl (UpdateAppControlRequest) returns (UpdateAppControlResponse) {
        option (google.api.http) = {
            post: "/v1/update/app/control"
            body: "*"
        };
    }
    rpc CreateBanApp (CreateBanAppRequest) returns (CreateBanAppResponse) {
        option (google.api.http) = {
            post: "/v1/create/ban/app"
            body: "*"
        };
    }
    rpc GetBanApp (GetBanAppRequest) returns (GetBanAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/ban/app"
            body: "*"
        };
    }
    rpc GetBanAppByApp (GetBanAppByAppRequest) returns (GetBanAppByAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/ban/app/by/app"
            body: "*"
        };
    }
    rpc UpdateBanApp (UpdateBanAppRequest) returns (UpdateBanAppResponse) {
        option (google.api.http) = {
            post: "/v1/update/ban/app"
            body: "*"
        };
    }
    rpc DeleteBanApp (DeleteBanAppRequest) returns (DeleteBanAppResponse) {
        option (google.api.http) = {
            post: "/v1/delete/ban/app"
            body: "*"
        };
    }

    rpc GetAppInfo (GetAppInfoRequest) returns (GetAppInfoResponse) {
        option (google.api.http) = {
            post: "/v1/get/appinfo"
            body: "*"
        };
    }
    rpc GetAppInfos (GetAppInfosRequest) returns (GetAppInfosResponse) {
        option (google.api.http) = {
            post: "/v1/get/appinfos"
            body: "*"
        };
    }
    rpc GetAppInfosByCreator (GetAppInfosByCreatorRequest) returns (GetAppInfosByCreatorResponse) {
        option (google.api.http) = {
            post: "/v1/get/appinfos/by/creator"
            body: "*"
        };
    }

    rpc CreateAppUser (CreateAppUserRequest) returns (CreateAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/user"
            body: "*"
        };
    }
    rpc GetAppUser (GetAppUserRequest) returns (GetAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user"
            body: "*"
        };
    }
    rpc GetAppUserByAppUser (GetAppUserByAppUserRequest) returns (GetAppUserByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/by/app/user"
            body: "*"
        };
    }
    rpc GetAppUserByAppAccount (GetAppUserByAppAccountRequest) returns (GetAppUserByAppAccountResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/by/account"
            body: "*"
        };
    }
    rpc VerifyAppUserByAppAccountPassword (VerifyAppUserByAppAccountPasswordRequest) returns (VerifyAppUserByAppAccountPasswordResponse) {
        option (google.api.http) = {
            post: "/v1/verify/app/user/by/account/password"
            body: "*"
        };
    }
    rpc GetAppUsersByApp (GetAppUsersByAppRequest) returns (GetAppUsersByAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/users/by/app"
            body: "*"
        };
    }
    rpc UpdateAppUser (UpdateAppUserRequest) returns (UpdateAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/update/app/user"
            body: "*"
        };
    }
    rpc CreateAppUserSecret (CreateAppUserSecretRequest) returns (CreateAppUserSecretResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/user/secret"
            body: "*"
        };
    }
    rpc GetAppUserSecret (GetAppUserSecretRequest) returns (GetAppUserSecretResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/secret"
            body: "*"
        };
    }
    rpc GetAppUserSecretByAppUser (GetAppUserSecretByAppUserRequest) returns (GetAppUserSecretByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/secret/by/app/user"
            body: "*"
        };
    }
    rpc UpdateAppUserSecret (UpdateAppUserSecretRequest) returns (UpdateAppUserSecretResponse) {
        option (google.api.http) = {
            post: "/v1/update/app/user/secret"
            body: "*"
        };
    }
    rpc CreateAppUserExtra (CreateAppUserExtraRequest) returns (CreateAppUserExtraResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/user/extra"
            body: "*"
        };
    }
    rpc GetAppUserExtra (GetAppUserExtraRequest) returns (GetAppUserExtraResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/extra"
            body: "*"
        };
    }
    rpc GetAppUserExtraByAppUser (GetAppUserExtraByAppUserRequest) returns (GetAppUserExtraByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/extra/by/app/user"
            body: "*"
        };
    }
    rpc UpdateAppUserExtra (UpdateAppUserExtraRequest) returns (UpdateAppUserExtraResponse) {
        option (google.api.http) = {
            post: "/v1/update/app/user/extra"
            body: "*"
        };
    }
    rpc CreateBanAppUser (CreateBanAppUserRequest) returns (CreateBanAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/create/ban/app/user"
            body: "*"
        };
    }
    rpc GetBanAppUser (GetBanAppUserRequest) returns (GetBanAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/ban/app/user"
            body: "*"
        };
    }
    rpc GetBanAppUserByAppUser (GetBanAppUserByAppUserRequest) returns (GetBanAppUserByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/ban/app/user/by/app/user"
            body: "*"
        };
    }
    rpc UpdateBanAppUser (UpdateBanAppUserRequest) returns (UpdateBanAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/update/ban/app/user"
            body: "*"
        };
    }
    rpc DeleteBanAppUser (DeleteBanAppUserRequest) returns (DeleteBanAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/delete/ban/app/user"
            body: "*"
        };
    }

    rpc CreateAppUserControl (CreateAppUserControlRequest) returns (CreateAppUserControlResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/user/control"
            body: "*"
        };
    }
    rpc GetAppUserControl (GetAppUserControlRequest) returns (GetAppUserControlResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/control"
            body: "*"
        };
    }
    rpc GetAppUserControlByAppUser (GetAppUserControlByAppUserRequest) returns (GetAppUserControlByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/user/control/by/app/user"
            body: "*"
        };
    }
    rpc UpdateAppUserControl (UpdateAppUserControlRequest) returns (UpdateAppUserControlResponse) {
        option (google.api.http) = {
            post: "/v1/update/app/user/control"
            body: "*"
        };
    }

    rpc CreateGenesisRole (CreateGenesisRoleRequest) returns (CreateGenesisRoleResponse) {
        option (google.api.http) = {
            post: "/v1/create/genesis/role"
            body: "*"
        };
    }
    rpc GetGenesisRole (GetGenesisRoleRequest) returns (GetGenesisRoleResponse) {
        option (google.api.http) = {
            post: "/v1/get/genesis/role"
            body: "*"
        };
    }
    rpc GetGenesisAppRoleUsersByOtherApp (GetGenesisAppRoleUsersByOtherAppRequest) returns (GetGenesisAppRoleUsersByOtherAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/genesis/app/role/users/by/other/app"
            body: "*"
        };
    }

    rpc CreateGenesisRoleUser (CreateGenesisRoleUserRequest) returns (CreateGenesisRoleUserResponse) {
        option (google.api.http) = {
            post: "/v1/create/genesis/role/user"
            body: "*"
        };
    }

    rpc CreateAppRole (CreateAppRoleRequest) returns (CreateAppRoleResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/role"
            body: "*"
        };
    }
    rpc CreateAppRoleForOtherApp (CreateAppRoleForOtherAppRequest) returns (CreateAppRoleForOtherAppResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/role/for/other/app"
            body: "*"
        };
    }
    rpc GetAppRole (GetAppRoleRequest) returns (GetAppRoleResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role"
            body: "*"
        };
    }
    rpc GetAppRoleByAppRole (GetAppRoleByAppRoleRequest) returns (GetAppRoleByAppRoleResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role/by/app/role"
            body: "*"
        };
    }
    rpc GetAppRolesByApp (GetAppRolesByAppRequest) returns (GetAppRolesByAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/roles/by/app"
            body: "*"
        };
    }
    rpc GetAppRolesByOtherApp (GetAppRolesByOtherAppRequest) returns (GetAppRolesByOtherAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/roles/by/other/app"
            body: "*"
        };
    }
    rpc UpdateAppRole (UpdateAppRoleRequest) returns (UpdateAppRoleResponse) {
        option (google.api.http) = {
            post: "/v1/update/app/role"
            body: "*"
        };
    }

    rpc CreateAppRoleUser (CreateAppRoleUserRequest) returns (CreateAppRoleUserResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/role/user"
            body: "*"
        };
    }
    rpc CreateAppRoleUserForOtherAppUser (CreateAppRoleUserForOtherAppUserRequest) returns (CreateAppRoleUserForOtherAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/role/user/for/other/app/user"
            body: "*"
        };
    }
    rpc GetAppRoleUser (GetAppRoleUserRequest) returns (GetAppRoleUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role/user"
            body: "*"
        };
    }
    rpc GetAppRoleUserByAppUser (GetAppRoleUserByAppUserRequest) returns (GetAppRoleUserByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role/user/by/app/user"
            body: "*"
        };
    }
    rpc GetAppRoleUsersByAppRole (GetAppRoleUsersByAppRoleRequest) returns (GetAppRoleUsersByAppRoleResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role/users/by/app/role"
            body: "*"
        };
    }
    rpc GetAppRoleUsersByOtherAppRole (GetAppRoleUsersByOtherAppRoleRequest) returns (GetAppRoleUsersByOtherAppRoleResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role/users/by/other/app/role"
            body: "*"
        };
    }
    rpc GetAppRoleUsersByApp (GetAppRoleUsersByAppRequest) returns (GetAppRoleUsersByAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role/users/by/app"
            body: "*"
        };
    }
    rpc GetAppRoleUsersByOtherApp (GetAppRoleUsersByOtherAppRequest) returns (GetAppRoleUsersByOtherAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/role/users/by/other/app"
            body: "*"
        };
    }
    rpc GetUserRolesByAppUser (GetUserRolesByAppUserRequest) returns (GetUserRolesByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/user/roles/by/app/user"
            body: "*"
        };
    }
    rpc DeleteAppRoleUser (DeleteAppRoleUserRequest) returns (DeleteAppRoleUserResponse) {
        option (google.api.http) = {
            post: "/v1/delete/app/role/user"
            body: "*"
        };
    }

    rpc GetAppUserInfo (GetAppUserInfoRequest) returns (GetAppUserInfoResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/userinfo"
            body: "*"
        };
    }
    rpc GetAppUserInfoByAppUser (GetAppUserInfoByAppUserRequest) returns (GetAppUserInfoByAppUserResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/userinfo/by/app/user"
            body: "*"
        };
    }
    rpc GetAppUserInfosByApp (GetAppUserInfosByAppRequest) returns (GetAppUserInfosByAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/userinfos/by/app"
            body: "*"
        };
    }
    rpc GetAppUserInfosByOtherApp (GetAppUserInfosByOtherAppRequest) returns (GetAppUserInfosByOtherAppResponse) {
        option (google.api.http) = {
            post: "/v1/get/app/userinfos/by/other/app"
            body: "*"
        };
    }

    rpc CreateAppUserWithSecret (CreateAppUserWithSecretRequest) returns (CreateAppUserWithSecretResponse) {
        option (google.api.http) = {
            post: "/v1/create/app/user/with/secret"
            body: "*"
        };
    }
}

message App {
    string ID = 10;
    string CreatedBy = 20;
    string Name = 30;
    string Logo = 40;
    string Description = 50;
    uint32 CreateAt = 60;
}

message CreateAdminAppsRequest {
}

message CreateAdminAppsResponse {
    repeated App Infos = 10;
}

message GetAdminAppsRequest {
}

message GetAdminAppsResponse {
    repeated App Infos = 10;
}

message CreateAppRequest {
    App Info = 10;
}

message CreateAppResponse {
    App Info = 10;
}

message GetAppRequest {
    string ID = 10;
}

message GetAppResponse {
    App Info = 10;
}

message GetAppsRequest {
    npool.v1.PageInfo PageInfo = 10;
}

message GetAppsResponse {
    repeated App Infos = 10;
    uint32 Total = 20;
}

message GetAppsByCreatorRequest {
    string UserID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppsByCreatorResponse {
    repeated App Infos = 10;
    uint32 Total = 20;
}

message UpdateAppRequest {
    App Info = 10;
}

message UpdateAppResponse {
    App Info = 10;
}

message AppControl {
    string ID = 10;
    string AppID = 20;
    // Signup method always be signin method
    repeated string SignupMethods = 30;
    repeated string ExternSigninMethods = 40;
    string RecaptchaMethod = 50;
    bool KycEnable = 60;
    bool SigninVerifyEnable = 70;
    bool InvitationCodeMust = 80;
}

message CreateAppControlRequest {
    AppControl Info = 10;
}

message CreateAppControlResponse {
    AppControl Info = 10;
}

message CreateAppControlForOtherAppRequest {
    string TargetAppID = 10;
    AppControl Info = 20;
}

message CreateAppControlForOtherAppResponse {
    AppControl Info = 10;
}

message GetAppControlRequest {
    string ID = 10;
}

message GetAppControlResponse {
    AppControl Info = 10;
}

message GetAppControlByAppRequest {
    string AppID = 10;
}

message GetAppControlByAppResponse {
    AppControl Info = 10;
}

message UpdateAppControlRequest {
    AppControl Info = 10;
}

message UpdateAppControlResponse {
    AppControl Info = 10;
}

message BanApp {
    string ID = 10;
    string AppID = 20;
    string Message = 30;
}

message CreateBanAppRequest {
    BanApp Info = 10;
}

message CreateBanAppResponse {
    BanApp Info = 10;
}

message GetBanAppRequest {
    string ID = 10;
}

message GetBanAppResponse {
    BanApp Info = 10;
}

message GetBanAppByAppRequest {
    string AppID = 10;
}

message GetBanAppByAppResponse {
    BanApp Info = 10;
}

message UpdateBanAppRequest {
    BanApp Info = 10;
}

message UpdateBanAppResponse {
    BanApp Info = 10;
}

message DeleteBanAppRequest {
    string ID = 10;
}

message DeleteBanAppResponse {
    BanApp Info = 10;
}

message AppInfo {
    App App = 10;
    AppControl Ctrl = 20;
    BanApp Ban = 30;
}

message GetAppInfoRequest {
    string ID = 10;
}

message GetAppInfoResponse {
    AppInfo Info = 10;
}

message GetAppInfosRequest {
    npool.v1.PageInfo PageInfo = 10;
}

message GetAppInfosResponse {
    repeated AppInfo Infos = 10;
    uint32 Total = 20;
}

message GetAppInfosByCreatorRequest {
    string UserID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppInfosByCreatorResponse {
    repeated AppInfo Infos = 10;
    uint32 Total = 20;
}

message AppUser {
    string ID = 10;
    string AppID = 20;
    string EmailAddress = 30;
    string PhoneNO = 40;
    string ImportFromApp = 50;
    uint32 CreateAt = 60;
}

message CreateAppUserRequest {
    AppUser Info = 10;
}

message CreateAppUserResponse {
    AppUser Info = 10;
}

message GetAppUserRequest {
    string ID = 10;
}

message GetAppUserResponse {
    AppUser Info = 10;
}

message GetAppUserByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
}

message GetAppUserByAppUserResponse {
    AppUser Info = 10;
}

message GetAppUserByAppAccountRequest {
    string AppID = 10;
    string Account = 20;
}

message GetAppUserByAppAccountResponse {
    AppUser Info = 10;
}

message GetAppUsersByAppRequest {
    string AppID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppUsersByAppResponse {
    repeated AppUser Infos = 10;
    uint32 Total = 20;
}

message UpdateAppUserRequest {
    AppUser Info = 10;
}

message UpdateAppUserResponse {
    AppUser Info = 10;
}

message AppUserSecret {
    string ID = 10;
    string AppID = 20;
    string UserID = 30;
    string PasswordHash = 40;
    string Salt = 50;
    string GoogleSecret = 60;
}

message AppUserSecretMap {
    bool HasGoogleSecret = 10;
}

message CreateAppUserSecretRequest {
    AppUserSecret Info = 10;
}

message CreateAppUserSecretResponse {
    AppUserSecret Info = 10;
}

message GetAppUserSecretRequest {
    string ID = 10;
}

message GetAppUserSecretResponse {
    AppUserSecret Info = 10;
}

message GetAppUserSecretByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
}

message GetAppUserSecretByAppUserResponse {
    AppUserSecret Info = 10;
}

message UpdateAppUserSecretRequest {
    AppUserSecret Info = 10;
}

message UpdateAppUserSecretResponse {
    AppUserSecret Info = 10;
}

message AppUserExtra {
    string ID = 10;
    string AppID = 20;
    string UserID = 30;
    string Username = 40;
    repeated string AddressFields = 50;
    string Gender = 60;
    string PostalCode = 70;
    uint32 Age = 80;
    uint32 Birthday = 90;
    string Avatar = 100;
    string Organization = 110;
    string FirstName = 120;
    string LastName = 130;
}

message CreateAppUserExtraRequest {
    AppUserExtra Info = 10;
}

message CreateAppUserExtraResponse {
    AppUserExtra Info = 10;
}

message GetAppUserExtraRequest {
    string ID = 10;
}

message GetAppUserExtraResponse {
    AppUserExtra Info = 10;
}

message GetAppUserExtraByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
}

message GetAppUserExtraByAppUserResponse {
    AppUserExtra Info = 10;
}

message UpdateAppUserExtraRequest {
    AppUserExtra Info = 10;
}

message UpdateAppUserExtraResponse {
    AppUserExtra Info = 10;
}

message BanAppUser {
    string ID = 10;
    string AppID = 20;
    string UserID = 30;
    string Message = 40;
}

message CreateBanAppUserRequest {
    BanAppUser Info = 10;
}

message CreateBanAppUserResponse {
    BanAppUser Info = 10;
}

message GetBanAppUserRequest {
    string ID = 10;
}

message GetBanAppUserResponse {
    BanAppUser Info = 10;
}

message GetBanAppUserByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
}

message GetBanAppUserByAppUserResponse {
    BanAppUser Info = 10;
}

message UpdateBanAppUserRequest {
    BanAppUser Info = 10;
}

message UpdateBanAppUserResponse {
    BanAppUser Info = 10;
}

message DeleteBanAppUserRequest {
    string ID = 10;
}

message DeleteBanAppUserResponse {
    BanAppUser Info = 10;
}

message AppUserControl {
    string ID = 10;
    string AppID = 20;
    string UserID = 30;
    bool SigninVerifyByGoogleAuthentication = 40;
    bool GoogleAuthenticationVerified = 50;
}

message CreateAppUserControlRequest {
    AppUserControl Info = 10;
}

message CreateAppUserControlResponse {
    AppUserControl Info = 10;
}

message GetAppUserControlRequest {
    string ID = 10;
}

message GetAppUserControlResponse {
    AppUserControl Info = 10;
}

message GetAppUserControlByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
}

message GetAppUserControlByAppUserResponse {
    AppUserControl Info = 10;
}

message UpdateAppUserControlRequest {
    AppUserControl Info = 10;
}

message UpdateAppUserControlResponse {
    AppUserControl Info = 10;
}

message AppRole {
    string ID = 10;
    string AppID = 20;
    string CreatedBy = 30;
    string Role = 40;
    string Description = 50;
    bool Default = 60;
}

message CreateGenesisRoleRequest {
}

message CreateGenesisRoleResponse {
    AppRole Info = 10;
}

message GetGenesisRoleRequest {
}

message GetGenesisRoleResponse {
    AppRole Info = 10;
}

message GetGenesisAppRoleUsersByOtherAppRequest {
    string AppID = 10;
    string TargetAppID = 20;
}

message GetGenesisAppRoleUsersByOtherAppResponse {
    repeated AppRoleUser Infos = 10;
    uint32 Total = 20;
}

message CreateAppRoleRequest {
    string UserID = 10;
    AppRole Info = 20;
}

message CreateAppRoleResponse {
    AppRole Info = 10;
}

message CreateAppRoleForOtherAppRequest {
    string TargetAppID = 10;
    string UserID = 20;
    AppRole Info = 30;
}

message CreateAppRoleForOtherAppResponse {
    AppRole Info = 10;
}

message GetAppRoleRequest {
    string ID = 10;
}

message GetAppRoleResponse {
    AppRole Info = 10;
}

message GetAppRoleByAppRoleRequest {
    string AppID = 10;
    string Role = 20;
}

message GetAppRoleByAppRoleResponse {
    AppRole Info = 10;
}

message GetAppRolesByAppRequest {
    string AppID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppRolesByAppResponse {
    repeated AppRole Infos = 10;
    uint32 Total = 20;
}

message GetAppRolesByOtherAppRequest {
    string TargetAppID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppRolesByOtherAppResponse {
    repeated AppRole Infos = 10;
    uint32 Total = 20;
}

message UpdateAppRoleRequest {
    AppRole Info = 10;
}

message UpdateAppRoleResponse {
    AppRole Info = 10;
}

message AppRoleUser {
    string ID = 10;
    string AppID = 20;
    string RoleID = 30;
    string UserID = 40;
}

message CreateGenesisRoleUserRequest {
    AppUser User = 10;
    AppUserSecret Secret = 20;
}

message CreateGenesisRoleUserResponse {
    AppUser User = 10;
    AppRoleUser RoleUser = 20;
}

message CreateAppRoleUserRequest {
    AppRoleUser Info = 10;
}

message CreateAppRoleUserResponse {
    AppRoleUser Info = 10;
}

message CreateAppRoleUserForOtherAppUserRequest {
    string TargetAppID = 10;
    string TargetUserID = 20;
    AppRoleUser Info = 30;
}

message CreateAppRoleUserForOtherAppUserResponse {
    AppRoleUser Info = 10;
}

message GetAppRoleUserRequest {
    string ID = 10;
}

message GetAppRoleUserResponse {
    AppRoleUser Info = 10;
}

message GetAppRoleUserByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
}

message GetAppRoleUserByAppUserResponse {
    repeated AppRoleUser Infos = 10;
}

message GetAppRoleUsersByAppRoleRequest {
    string AppID = 10;
    string RoleID = 20;
    npool.v1.PageInfo PageInfo = 30;
}

message GetAppRoleUsersByAppRoleResponse {
    repeated AppRoleUser Infos = 10;
    uint32 Total = 20;
}

message GetAppRoleUsersByOtherAppRoleRequest {
    string AppID = 10;
    string UserID = 20;
    string RoleID = 30;
    string TargetAppID = 40;
    npool.v1.PageInfo PageInfo = 50;
}

message GetAppRoleUsersByOtherAppRoleResponse {
    repeated AppRoleUser Infos = 10;
    uint32 Total = 20;
}

message GetAppRoleUsersByAppRequest {
    string AppID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppRoleUsersByAppResponse {
    repeated AppRoleUser Infos = 10;
    uint32 Total = 20;
}

message GetAppRoleUsersByOtherAppRequest {
    string TargetAppID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppRoleUsersByOtherAppResponse {
    repeated AppRoleUser Infos = 10;
    uint32 Total = 20;
}

message GetUserRolesByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
    npool.v1.PageInfo PageInfo = 30;
}

message GetUserRolesByAppUserResponse {
    repeated AppRole Infos = 10;
    uint32 Total = 20;
}

message DeleteAppRoleUserRequest {
    string ID = 10;
}

message DeleteAppRoleUserResponse {
    AppRoleUser Info = 10;
}

message AppUserInfo {
    AppUser User = 10;
    AppUserExtra Extra = 20;
    AppUserControl Ctrl = 30;
    BanAppUser Ban = 40;
    repeated AppRole Roles = 50;
    AppUserSecretMap SecretMap = 60;
}

message GetAppUserInfoRequest {
    string ID = 10;
}

message GetAppUserInfoResponse {
    AppUserInfo Info = 10;
}

message GetAppUserInfoByAppUserRequest {
    string AppID = 10;
    string UserID = 20;
}

message GetAppUserInfoByAppUserResponse {
    AppUserInfo Info = 10;
}

message GetAppUserInfosByAppRequest {
    string AppID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppUserInfosByAppResponse {
    repeated AppUserInfo Infos = 10;
    uint32 Total = 20;
}

message GetAppUserInfosByOtherAppRequest {
    string TargetAppID = 10;
    npool.v1.PageInfo PageInfo = 20;
}

message GetAppUserInfosByOtherAppResponse {
    repeated AppUserInfo Infos = 10;
    uint32 Total = 20;
}

message CreateAppUserWithSecretRequest {
    AppUser User = 10;
    AppUserSecret Secret = 20;
}

message CreateAppUserWithSecretResponse {
    AppUser Info = 10;
}

message VerifyAppUserByAppAccountPasswordRequest {
    string AppID = 10;
    string Account = 20;
    string PasswordHash = 30;
}

message VerifyAppUserByAppAccountPasswordResponse {
    AppUserInfo Info = 10;
}

