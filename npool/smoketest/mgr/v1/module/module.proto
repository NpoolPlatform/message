syntax = "proto3";

package smoketest.manager.module.v1;

option go_package = "github.com/NpoolPlatform/message/npool/smoketest/mgr/v1/module";

import "npool/npool.proto";

// Service Name
service Manager {}

message ModuleReq {
    optional string ID                  = 10;
    optional string Name                = 20;
    optional string Description         = 30;
    optional uint32 CreatedAt           = 40;
}

message Module {
    string ID                 =           10;
    string Name               =           20;
    string Description        =           30;
    uint32 CreatedAt          =           110;
}

message Conds {
    optional npool.v1.StringVal      ID     = 10;
    optional npool.v1.StringVal      Name   = 20;
    optional npool.v1.StringSliceVal IDs    = 30;
}


message CreateModuleRequest {
    ModuleReq Info = 10;
}

message CreateModuleResponse {
    Module Info = 10;
}

message CreateModulesRequest {
    repeated ModuleReq Infos = 10;
}

message CreateModulesResponse {
    repeated Module Infos = 10;
}

message UpdateModuleRequest {
    ModuleReq Info = 10;
}

message UpdateModuleResponse {
    Module Info = 10;
}

message GetModuleRequest {
    string ID = 10;
}

message GetModuleResponse {
    Module Info = 10;
}

message GetModulesRequest {
    Conds Conds   = 10;
    int32 Offset  = 20;
    int32 Limit   = 30;
}

message GetModulesResponse {
    repeated Module Infos = 10;
    uint32           Total = 20;
}

message GetModuleOnlyRequest {
    Conds Conds = 10;
}

message GetModuleOnlyResponse {
    Module Info = 10;
}

message ExistModuleRequest {
    string ID = 10;
}

message ExistModuleResponse {
    bool Info = 10;
}

message ExistModuleCondsRequest {
    Conds Conds = 10;
}

message ExistModuleCondsResponse {
    bool Info = 10;
}

message CountModulesRequest {
    Conds Conds = 10;
}

message CountModulesResponse {
    uint32 Info = 10;
}

message DeleteModuleRequest {
    string ID = 10;
}

message DeleteModuleResponse {
    Module Info = 10;
}
