syntax = "proto3";

package smoketest.gateway.testplan.plantestcase.v1;

option go_package = "github.com/NpoolPlatform/message/npool/smoketest/gw/v1/testplan/plantestcase";

import "npool/smoketest/mw/v1/testplan/plantestcase/plantestcase.proto";
import "google/api/annotations.proto";

// Service Name
service Gateway {
    rpc CreatePlanTestCase (CreatePlanTestCaseRequest) returns (CreatePlanTestCaseResponse) {
        option (google.api.http) = {
            post: "/v1/create/plantestcase"
            body: "*"
        };
    }
    
    rpc DeletePlanTestCase (DeletePlanTestCaseRequest) returns (DeletePlanTestCaseResponse) {
        option (google.api.http) = {
            post: "/v1/delete/plantestcase"
            body: "*"
        };
    }

    rpc UpdatePlanTestCase (UpdatePlanTestCaseRequest) returns (UpdatePlanTestCaseResponse) {
        option (google.api.http) = {
            post: "/v1/update/plantestcase"
            body: "*"
        };
    }

    rpc GetPlanTestCases (GetPlanTestCasesRequest) returns (GetPlanTestCasesResponse) {
        option (google.api.http) = {
            post: "/v1/get/plantestcases"
            body: "*"
        };
    }
}

message CreatePlanTestCaseRequest {
    string                   TestPlanID                                              = 10;
    string                   TestCaseID                                              = 20;
    optional string          TestCaseOutput                                          = 30;
    optional string          Description                                             = 40;
    optional uint32          RunDuration                                             = 50;
    optional string          TestUserID                                              = 60;
    optional string          AppID                                                   = 70;
    smoketest.middleware.testplan.plantestcase.v1.TestCaseResult Result              = 80; 
    optional uint32          Index                                                   = 90;
}

message CreatePlanTestCaseResponse {
    smoketest.middleware.testplan.plantestcase.v1.PlanTestCase Info = 10;
}

message UpdatePlanTestCaseRequest {
    string                   ID                                                      = 10;
    optional string          TestCaseOutput                                          = 20;
    optional string          Description                                             = 30;
    optional uint32          RunDuration                                             = 40;
    optional string          TestUserID                                              = 50;
    optional string          AppID                                                   = 60;
    smoketest.middleware.testplan.plantestcase.v1.TestCaseResult Result              = 70; 
    optional uint32          Index                                                   = 80;
}

message UpdatePlanTestCaseResponse {
    smoketest.middleware.testplan.plantestcase.v1.PlanTestCase Info = 10;
}


message GetPlanTestCasesRequest {
    string         TestPlanID  =   10;
    int32          Offset      =   20;
    int32          Limit       =   30;
}

message GetPlanTestCasesResponse {
    repeated smoketest.middleware.testplan.plantestcase.v1.PlanTestCase Infos = 10;
    uint32                                                              Total = 20;
}

message DeletePlanTestCaseRequest {
    string ID        = 10;
}

message DeletePlanTestCaseResponse {
    smoketest.middleware.testplan.plantestcase.v1.PlanTestCase Info = 10;
}
