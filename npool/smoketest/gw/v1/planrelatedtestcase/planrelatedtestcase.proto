syntax = "proto3";

package smoketest.gateway.planrelatedtestcase.v1;

option go_package = "github.com/NpoolPlatform/message/npool/smoketest/gw/v1/planrelatedtestcase";

import "npool/smoketest/mgr/v1/planrelatedtestcase/planrelatedtestcase.proto";
import "npool/smoketest/mgr/v1/testcase/testcase.proto";
import "npool/smoketest/mgr/v1/relatedtestcase/relatedtestcase.proto";
import "google/api/annotations.proto";

// Service Name
service Gateway {
    rpc CreatePlanRelatedTestCase (CreatePlanRelatedTestCaseRequest) returns (CreatePlanRelatedTestCaseResponse) {
        option (google.api.http) = {
            post: "/v1/create/planrelatedtestcase"
            body: "*"
        };
    }
    
    rpc DeletePlanRelatedTestCase (DeletePlanRelatedTestCaseRequest) returns (DeletePlanRelatedTestCaseResponse) {
        option (google.api.http) = {
            post: "/v1/delete/planrelatedtestcase"
            body: "*"
        };
    }

    rpc DeletePlanRelatedTestCases (DeletePlanRelatedTestCasesRequest) returns (DeletePlanRelatedTestCasesResponse) {
        option (google.api.http) = {
            post: "/v1/delete/planrelatedtestcases"
            body: "*"
        };
    }
}

message PlanRelatedTestCase {       
    string          ID                                                      = 10;
    string          TestPlanID                                              = 20;
    string          TestPlanName                                            = 30;
    string          TestCaseID                                              = 40;
    string          ApiID                                                   = 50;
    string          ApiPath                                                 = 60;
    string          ApiPathPrefix                                           = 70;
    string          TestCaseArguments                                       = 80;
    string          TestCaseExpectation                                     = 90;
    smoketest.manager.testcase.v1.TestCaseType           TestCaseType       = 100;
    string          TestCaseOutput                                          = 110;
    string          Description                                             = 120;
    uint32          RunDuration                                             = 130;
    string          TestUserID                                              = 140;
    string          TestUsername                                            = 150;
    smoketest.manager.planrelatedtestcase.v1.TestCaseResult TestCaseResult  = 160; 
    uint32          CreatedAt                                               = 170;
}

message CreatePlanRelatedTestCaseRequest {
    string          TestPlanID                                              = 20;
    string          TestCaseID                                              = 40;
    string          TestCaseOutput                                          = 70;
    string          Description                                             = 80;
    uint32          RunDuration                                             = 90;
    string          TestUserID                                              = 100;
    smoketest.manager.planrelatedtestcase.v1.TestCaseResult TestCaseResult  = 120; 
}

message CreatePlanRelatedTestCaseResponse {
    PlanRelatedTestCase Info = 10;
}

message GetPlanRelatedTestCasesRequest {
    string   TestPlanID        =   10;
    optional int32 Offset     =   20;
    optional int32 Limit      =   30;
}

message GetPlanRelatedTestCasesResponse {
    repeated PlanRelatedTestCase Infos = 10;
    uint32                       Total = 20;
}

message GetPlanRelatedTestCaseRequest {
    string   ID        =   10;
}

message GetPlanRelatedTestCaseResponse {
    PlanRelatedTestCase Info = 10;
}

message DeletePlanRelatedTestCaseRequest {
    string ID        = 10;
}

message DeletePlanRelatedTestCaseResponse {
    PlanRelatedTestCase Info = 10;
}

message DeletePlanRelatedTestCasesRequest {
    string TestPlanID = 20;
}

message DeletePlanRelatedTestCasesResponse {
    repeated PlanRelatedTestCase Info = 10;
}