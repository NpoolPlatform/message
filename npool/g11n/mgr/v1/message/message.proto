syntax = "proto3";

package g11n.manager.message1.v1;

option go_package = "github.com/NpoolPlatform/message/npool/g11n/mgr/v1/message";

import "google/protobuf/empty.proto";
import "npool/npool.proto";

// Service Name
service Manager {
    rpc CreateMessage     (CreateMessageRequest)     returns (CreateMessageResponse)     {}
    rpc CreateMessages    (CreateMessagesRequest)    returns (CreateMessagesResponse)    {}
    rpc UpdateMessage     (UpdateMessageRequest)     returns (UpdateMessageResponse)     {}
    rpc GetMessage        (GetMessageRequest)        returns (GetMessageResponse)        {}
    rpc GetMessageOnly    (GetMessageOnlyRequest)    returns (GetMessageOnlyResponse)    {}
    rpc GetMessages       (GetMessagesRequest)       returns (GetMessagesResponse)       {}
    rpc ExistMessage      (ExistMessageRequest)      returns (ExistMessageResponse)      {}
    rpc ExistMessageConds (ExistMessageCondsRequest) returns (ExistMessageCondsResponse) {}
    rpc CountMessages     (CountMessagesRequest)     returns (CountMessagesResponse)     {}
    rpc DeleteMessage     (DeleteMessageRequest)     returns (DeleteMessageResponse)     {}
}

message MessageReq {
    optional string ID        = 10;
    optional string AppID     = 20;
    optional string LangID    = 30;
    optional string MessageID = 40;
    optional string Message   = 50;
    optional uint32 GetIndex  = 60;
    optional bool   Disabled  = 70;
}

message Message {
    string ID         = 10;
    string AppID      = 20;
    string LangID     = 30;
    string MessageID  = 40;
    string Message    = 50;
    uint32 GetIndex   = 60;
    bool   Disabled   = 70;
    uint32 CreatedAt  = 80;
    uint32 UpdatedAt  = 90;
}

message Conds {
    optional npool.v1.StringVal ID         = 10;
    optional npool.v1.StringVal AppID      = 20;
    optional npool.v1.StringVal LangID     = 30;
    optional npool.v1.StringVal MessageID  = 40;
    optional npool.v1.BoolVal   Disabled   = 50;
    optional npool.v1.StringSliceVal MessageIDs  = 60;
}


message CreateMessageRequest {
    MessageReq Info = 10;
}

message CreateMessageResponse {
    Message Info = 10;
}

message CreateMessagesRequest {
    repeated MessageReq Infos = 10;
}

message CreateMessagesResponse {
    repeated Message Infos = 10;
}

message UpdateMessageRequest {
    MessageReq Info = 10;
}

message UpdateMessageResponse {
    Message Info = 10;
}

message GetMessageRequest {
    string ID = 10;
}

message GetMessageResponse {
    Message Info = 10;
}

message GetMessagesRequest {
    Conds Conds  = 10;
    int32 Offset = 20;
    int32 Limit  = 30;
}

message GetMessagesResponse {
    repeated Message Infos = 10;
    uint32           Total = 20;
}

message GetMessageOnlyRequest {
    Conds Conds = 10;
}

message GetMessageOnlyResponse {
    Message Info = 10;
}

message ExistMessageRequest {
    string ID = 10;
}

message ExistMessageResponse {
    bool Info = 10;
}

message ExistMessageCondsRequest {
    Conds Conds = 10;
}

message ExistMessageCondsResponse {
    bool Info = 10;
}

message CountMessagesRequest {
    Conds Conds = 10;
}

message CountMessagesResponse {
    uint32 Info = 10;
}

message DeleteMessageRequest {
    string ID = 10;
}

message DeleteMessageResponse {
    Message Info = 10;
}

