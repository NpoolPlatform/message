syntax = "proto3";

package mining.manager.profit.general.v1;

option go_package = "github.com/NpoolPlatform/message/npool/miningmgr/profit/general";

import "google/protobuf/empty.proto";
import "npool/npool.proto";

// Service Name
service ProfitGeneral {
    rpc Version (google.protobuf.Empty) returns (npool.v1.VersionResponse) {}

    rpc CreateGeneral (CreateGeneralRequest) returns (CreateGeneralResponse) {}

    rpc CreateGenerals (CreateGeneralsRequest) returns (CreateGeneralsResponse) {}

    rpc AddGeneral (AddGeneralRequest) returns (AddGeneralResponse) {}

    rpc GetGeneral (GetGeneralRequest) returns (GetGeneralResponse) {}

    rpc GetGeneralOnly (GetGeneralOnlyRequest) returns (GetGeneralOnlyResponse) {}

    rpc GetGenerals (GetGeneralsRequest) returns (GetGeneralsResponse) {}

    rpc ExistGeneral (ExistGeneralRequest) returns (ExistGeneralResponse) {}

    rpc ExistGeneralConds (ExistGeneralCondsRequest) returns (ExistGeneralCondsResponse) {}

    rpc CountGenerals (CountGeneralsRequest) returns (CountGeneralsResponse) {}

    rpc DeleteGeneral (DeleteGeneralRequest) returns (DeleteGeneralResponse) {}
}

message GeneralReq {
    optional string ID         = 10;
    optional string GoodID     = 20;
    optional string CoinTypeID = 30;
    optional string Amount     = 40;
    // Benefit belong to platform
    optional string ToPlatform = 50;
    // Benefit belong to user
    optional string ToUser     = 60;
    optional string TransferredToPlatform = 70;
    optional string TransferredToUser     = 80;
}

message General {
    string ID         = 10;
    string GoodID     = 20;
    string CoinTypeID = 30;
    string Amount     = 40;
    string ToPlatform = 50;
    string ToUser     = 60;
    string TransferredToPlatform = 70;
    string TransferredToUser     = 80;
}

message Conds {
    optional npool.v1.StringVal ID         = 10;
    optional npool.v1.StringVal GoodID     = 20;
    optional npool.v1.StringVal CoinTypeID = 30;
    optional npool.v1.StringVal Amount     = 40;
    optional npool.v1.StringVal ToPlatform = 50;
    optional npool.v1.StringVal ToUser     = 60;
    optional npool.v1.StringVal TransferredToPlatform = 70;
    optional npool.v1.StringVal TransferredToUser     = 80;
}


message CreateGeneralRequest {
    GeneralReq Info = 10;
}

message CreateGeneralResponse {
    General Info = 10;
}

message CreateGeneralsRequest {
    repeated GeneralReq Infos = 10;
}

message CreateGeneralsResponse {
    repeated General Infos = 10;
}

message AddGeneralRequest {
    GeneralReq Info = 10;
}

message AddGeneralResponse {
    General Info = 10;
}

message GetGeneralRequest {
    string ID = 10;
}

message GetGeneralResponse {
    General Info = 10;
}

message GetGeneralsRequest {
    Conds Conds = 10;
    int32 Offset = 20;
    int32 Limit = 30;
}

message GetGeneralsResponse {
    repeated General Infos = 10;
    uint32 Total = 20;
}

message GetGeneralOnlyRequest {
    Conds Conds = 10;
}

message GetGeneralOnlyResponse {
    General Info = 10;
}

message ExistGeneralRequest {
    string ID = 10;
}

message ExistGeneralResponse {
    bool Info = 10;
}

message ExistGeneralCondsRequest {
    Conds Conds = 10;
}

message ExistGeneralCondsResponse {
    bool Info = 10;
}

message CountGeneralsRequest {
    Conds Conds = 10;
}

message CountGeneralsResponse {
    uint32 Info = 10;
}

message DeleteGeneralRequest {
    string ID = 10;
}

message DeleteGeneralResponse {
    General Info = 10;
}

