syntax = "proto3";

package notif.middleware.announcement.v1;

option go_package = "github.com/NpoolPlatform/message/npool/notif/mw/v1/announcement";

import "npool/notif/mgr/v1/announcement/announcement.proto";

// Service Name
service Middleware {
    rpc GetAnnouncement        (GetAnnouncementRequest)        returns (GetAnnouncementResponse)        {}
    rpc GetAnnouncements       (GetAnnouncementsRequest)       returns (GetAnnouncementsResponse)       {}
}

message Announcement {
    string ID          = 10;
    string AppID       = 20;
    string Title       = 30;
    string Content     = 40;
    string Channels    = 50;
    bool   EmailSend   = 60;
    bool   AlreadyRead = 70;
    uint32 CreatedAt   = 80;
    uint32 UpdatedAt   = 90;
}

message GetAnnouncementRequest {
    string ID = 10;
}

message GetAnnouncementResponse {
    notif.manager.announcement.v1.Announcement Info = 10;
}

message GetAnnouncementsRequest {
    string AppID  = 10;
    string UserID = 20;
    int32  Offset = 30;
    int32  Limit  = 40;
}

message GetAnnouncementsResponse {
    repeated Announcement Infos = 10;
    uint32                Total = 20;
}